(function(t){function e(e){for(var s,i,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);m&&m(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var m=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0aaf":function(t,e,a){"use strict";a("9bbf")},"0fba":function(t,e,a){},2246:function(t,e,a){},3367:function(t,e,a){},4102:function(t,e,a){"use strict";a("9400")},5452:function(t,e,a){"use strict";a("af35")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("4de4");var s=a("2b0e"),n=(a("f5df1"),a("5a0c")),r=a.n(n),i=(a("276b"),a("f906")),o=a.n(i),c=a("5c96"),u=a("4897"),m=a.n(u),l=a("dccd"),d=a.n(l),h=(a("c730"),a("9887"),a("8c4f")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"competitions container"},t._l(t.filteredCompetitions,(function(e){return a("div",{key:e.id,staticClass:"competitions__list"},[a("router-link",{staticClass:"competitions__link",attrs:{to:"/competition/"+e.id}},[a("span",{staticClass:"competitions__item"},[t._v(t._s(e.name))]),a("span",{staticClass:"competitions__country"},[t._v(t._s(e.area.name))])])],1)})),0)},f=[],_=a("1da1"),v=(a("96cf"),a("caad"),a("2532"),a("b0c0"),a("bc3a")),C=a.n(v),y="http://api.football-data.org/v2",w="cf5dd8167b36411c8b77646cd3722f98",T=C.a.create({baseURL:y,headers:{"X-Auth-Token":w}}),$=T,S=function(){return $.get("/competitions",{params:{plan:"TIER_ONE"}})},b=function(t,e,a,s){return $.get("/competitions/".concat(t,"/matches"),{params:{dateFrom:e,dateTo:a,season:s}})},g={name:"Competitions",data:function(){return{competitions:[]}},computed:{searchQuery:function(){return this.$store.state.searchQuery},filteredCompetitions:function(){var t=this;return this.competitions.filter((function(e){return e.name.toLowerCase().includes(t.searchQuery.toLowerCase())}))}},methods:{getCompetitions:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:a=e.sent,t.competitions=a.data.competitions;case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.getCompetitions(),this.$eventBus.$emit("updateRouteQueryParams"),this.$eventBus.$emit("clearSearchQuery")}},Y=g,D=(a("95b5"),a("2877")),Q=Object(D["a"])(Y,p,f,!1,null,null,null),E=Q.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"teams-wrapper container"},[t.teams?a("div",{staticClass:"teams"},[a("span",{staticClass:"teams__caption"},[t._v("Клубы лиги")]),t._l(t.filteredTeams,(function(e){return a("div",{key:e.id,staticClass:"teams__item"},[a("router-link",{staticClass:"teams__link",attrs:{to:"/team/"+e.id+"/matches"}},[a("div",{staticClass:"teams__image"},[e.crestUrl?a("img",{staticClass:"teams__icon",attrs:{src:e.crestUrl}}):t._e()]),a("span",{staticClass:"teams__name"},[t._v(t._s(e.name))]),a("div",{staticClass:"teams__info"},[e.venue?a("span",{staticClass:"teams__venue"},[t._v("Стадион: "+t._s(e.venue))]):t._e(),e.founded?a("span",[t._v("Основан в "+t._s(e.founded)+" году")]):t._e()])])],1)}))],2):a("div",{staticClass:"teams-error"},[t._v("Список команд пуст")])])},k=[],x=function(t,e){return $.get("competitions/".concat(t,"/teams"),{params:{season:e}})},P={name:"Teams",data:function(){return{teams:null}},computed:{season:function(){return this.$store.state.season},searchQuery:function(){return this.$store.state.searchQuery},filteredTeams:function(){var t=this;return this.teams.filter((function(e){return e.name.toLowerCase().includes(t.searchQuery.toLowerCase())}))}},methods:{getTeams:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.competitionId,e.prev=1,e.next=4,x(a,t.season);case 4:s=e.sent,t.teams=s.data.teams,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),t.teams=null,console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}},mounted:function(){this.getTeams(),this.$eventBus.$emit("updateRouteQueryParams"),this.$eventBus.$emit("clearSearchQuery")},watch:{season:function(t,e){null!==e&&this.getTeams()}}},O=P,R=(a("4102"),Object(D["a"])(O,M,k,!1,null,null,null)),j=R.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"matches container"},t._l(t.teamCalendar,(function(e){return a("div",{key:e.id,staticClass:"match"},[a("div",{staticClass:"match__teams"},[a("span",{staticClass:"match__team-one",class:{teams__winner:t.winnerHomeTeam(e)}},[t._v(t._s(e.homeTeam.name))]),a("span",{staticClass:"match__team-two",class:{teams__winner:t.winnerAwayTeam(e)}},[t._v(t._s(e.awayTeam.name))])]),a("div",{staticClass:"match__details"},[a("div",{staticClass:"match__results"},[a("span",{staticClass:"match__result-one"},[t._v(t._s(e.score.fullTime.homeTeam))]),a("span",{staticClass:"match__result-two"},[t._v(t._s(e.score.fullTime.awayTeam))])]),a("div",{staticClass:"match__info"},[a("span",{staticClass:"match__status"},[t._v(" "+t._s(t.matchStatuses[e.status])+" ")]),a("div",{staticClass:"match__time"},[a("span",{staticClass:"match__date"},[t._v(t._s(t._f("dayjs")(e.utcDate,"dd, D.MM")))]),a("span",{staticClass:"match__exact-time"},[t._v(t._s(t._f("dayjs")(e.utcDate,"HH:mm")))])])])])])})),0)},A=[],H=function(t,e,a){return $.get("teams/".concat(t,"/matches"),{params:{dateFrom:e,dateTo:a}})},N={SCHEDULED:"Запланирован",LIVE:"В лайве",IN_PLAY:"В игре",PAUSED:"Перерыв",FINISHED:"Окончен",POSTPONED:"Перенесен",SUSPENDED:"Приостановлен",CANCELED:"Отменен"},B=N,L={name:"TeamCalendar",data:function(){return{teamCalendar:[]}},computed:{dates:function(){return this.$store.state.dates}},methods:{getTeamCalendar:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.teamId,e.next=3,H(a,r()(t.dates[0]).format("YYYY-MM-DD"),r()(t.dates[1]).format("YYYY-MM-DD"));case 3:s=e.sent,t.teamCalendar=s.data.matches;case 5:case"end":return e.stop()}}),e)})))()},winnerAwayTeam:function(t){return t.score.fullTime.awayTeam>t.score.fullTime.homeTeam},winnerHomeTeam:function(t){return t.score.fullTime.homeTeam>t.score.fullTime.awayTeam}},created:function(){this.matchStatuses=B},mounted:function(){this.getTeamCalendar(),this.$eventBus.$emit("updateRouteQueryParams")},watch:{dates:function(){this.getTeamCalendar()}}},U=L,q=(a("0aaf"),Object(D["a"])(U,I,A,!1,null,null,null)),F=q.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"matches container"},t._l(t.competitionCalendar,(function(e){return a("div",{key:e.id,staticClass:"match"},[a("div",{staticClass:"match__teams"},[a("span",{staticClass:"match__team-one"},[t._v(t._s(e.homeTeam.name))]),a("span",{staticClass:"match__team-two"},[t._v(t._s(e.awayTeam.name))])]),a("div",{staticClass:"match__details"},[a("div",{staticClass:"match__results"},[a("span",{staticClass:"match__result-one"},[t._v(t._s(e.score.fullTime.homeTeam))]),a("span",{staticClass:"match__result-two"},[t._v(t._s(e.score.fullTime.awayTeam))])]),a("div",{staticClass:"match__info"},[a("span",{staticClass:"match__status"},[t._v(" "+t._s(t.matchStatuses[e.status])+" ")]),a("div",{staticClass:"match__time"},[a("span",{staticClass:"match__date"},[t._v(t._s(t._f("dayjs")(e.utcDate,"dd, D.MM")))]),a("span",{staticClass:"match__exact-time"},[t._v(t._s(t._f("dayjs")(e.utcDate,"HH:mm")))])])])])])})),0)},J=[],z={name:"CompetitionCalendar",data:function(){return{competitionCalendar:[]}},computed:{season:function(){return this.$store.state.season},dates:function(){return this.$store.state.dates}},methods:{getCompetitionCalendar:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.competitionId,e.next=3,b(a,r()(t.dates[0]).format("YYYY-MM-DD"),r()(t.dates[1]).format("YYYY-MM-DD"),t.season);case 3:s=e.sent,t.competitionCalendar=s.data.matches;case 5:case"end":return e.stop()}}),e)})))()}},created:function(){this.matchStatuses=B},mounted:function(){this.getCompetitionCalendar(),this.$eventBus.$emit("updateRouteQueryParams")},watch:{dates:function(){this.getCompetitionCalendar()},season:function(){this.getCompetitionCalendar()}}},X=z,G=(a("8b83"),Object(D["a"])(X,V,J,!1,null,"007fa20a",null)),K=G.exports;s["default"].use(h["a"]);var W=[{path:"/",name:"Competitions",component:E},{path:"/competition/:competitionId?",redirect:{name:"Teams"}},{path:"/competition/:competitionId/teams",name:"Teams",component:j},{path:"/competition/:competitionId/matches",name:"CompetitionCalendar",component:K},{path:"/teams/:teamId?",redirect:{name:"TeamCalendar"}},{path:"/team/:teamId/matches",name:"TeamCalendar",component:F}],Z=new h["a"]({mode:"history",base:"",routes:W}),tt=Z,et=a("2f62");s["default"].use(et["a"]);var at=new et["a"].Store({state:{season:null,dates:[],searchQuery:""},mutations:{SET_SEASON:function(t,e){t.season=e},SET_DATES:function(t,e){t.dates=e},SET_SEARCH_QUERY:function(t,e){t.searchQuery=e}},actions:{setSeason:function(t,e){var a=t.commit;a("SET_SEASON",e)},setDates:function(t,e){var a=t.commit;a("SET_DATES",e)},setSearchQuery:function(t,e){var a=t.commit;a("SET_SEARCH_QUERY",e)},clearSearchQuery:function(t){var e=t.commit;e("SET_SEARCH_QUERY","")}}}),st=at,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Header"),a("router-view")],1)},rt=[],it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("div",{staticClass:"header__leagues"},[a("router-link",{staticClass:"header__item",attrs:{to:"/"}},[t._v("Лиги")])],1),a("hr"),a("div",{staticClass:"header__menu container"},[a("div",{staticClass:"header__menu-main"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.season,expression:"season"}],staticClass:"header__season",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.season=e.target.multiple?a:a[0]}}},t._l(t.years,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:t.isDatepickerShowed,expression:"isDatepickerShowed"}],attrs:{type:"daterange","range-separator":"по","start-placeholder":"Дата начала","end-placeholder":"Дата конца",format:"dd.MM.yyyy",size:"mini"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isSearchShowed,expression:"isSearchShowed"}],staticClass:"header__search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"header__input",attrs:{type:"search",placeholder:t.searchPlaceholder},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isMenuShowed,expression:"isMenuShowed"}],staticClass:"header__links"},[a("router-link",{staticClass:"header__link",attrs:{to:"/competition/"+t.competitionId+"/matches"}},[t._v("Матчи")]),a("router-link",{staticClass:"header__link",attrs:{to:"/competition/"+t.competitionId+"/teams"}},[t._v("Команды")])],1)])])},ot=[],ct={name:"Header",data:function(){return{years:[]}},computed:{isDatepickerShowed:function(){return"TeamCalendar"===this.$route.name||"CompetitionCalendar"===this.$route.name},isMenuShowed:function(){return"Teams"===this.$route.name||"CompetitionCalendar"===this.$route.name},isSearchShowed:function(){return"Teams"===this.$route.name||"Competitions"===this.$route.name},searchPlaceholder:function(){var t="";return"Teams"===this.$route.name?t="команды":"Competitions"===this.$route.name&&(t="лиги"),"Введите название ".concat(t)},competitionId:function(){return this.$route.params.competitionId},season:{get:function(){return this.$store.state.season},set:function(t){this.$store.dispatch("setSeason",t),this.updateRouteQueryParams()}},dates:{get:function(){return this.$store.state.dates},set:function(t){this.$store.dispatch("setDates",t),this.updateRouteQueryParams()}},searchQuery:{get:function(){return this.$store.state.searchQuery},set:function(t){this.$store.dispatch("setSearchQuery",t),this.updateRouteQueryParams()}}},methods:{init:function(){var t=1950,e=(new Date).getFullYear(),a=this.$route.query.selectedYear||e,s=r()(),n=r()(this.$route.query.dateFrom,"DD-MM-YYYY",!0).isValid()?r()(this.$route.query.dateFrom,"DD-MM-YYYY"):s.subtract(1,"month"),i=r()(this.$route.query.dateTo,"DD-MM-YYYY",!0).isValid()?r()(this.$route.query.dateTo,"DD-MM-YYYY"):s;this.searchQuery=this.$route.query.searchQuery||"";for(var o=t;o<=e;o++)this.years.push(o);this.season=a,this.dates=[n,i]},updateRouteQueryParams:function(){var t={selectedYear:this.season};""!==this.searchQuery&&(t.searchQuery=this.searchQuery),this.isDatepickerShowed&&(t.dateFrom=r()(this.dates[0]).format("DD-MM-YYYY"),t.dateTo=r()(this.dates[1]).format("DD-MM-YYYY")),this.$router.push({query:t})},clearInput:function(){this.searchQuery=""}},mounted:function(){this.init(),this.$eventBus.$on("updateRouteQueryParams",this.updateRouteQueryParams),this.$eventBus.$on("clearSearchQuery",this.clearInput)}},ut=ct,mt=(a("5452"),Object(D["a"])(ut,it,ot,!1,null,null,null)),lt=mt.exports,dt={name:"App",components:{Header:lt}},ht=dt,pt=(a("5c0b"),Object(D["a"])(ht,nt,rt,!1,null,null,null)),ft=pt.exports;a("3367");r.a.locale("ru"),r.a.extend(o.a),s["default"].config.productionTip=!1,s["default"].use(c["DatePicker"]),m.a.use(d.a),s["default"].filter("dayjs",(function(t,e){return t?r()(t).format(e):""})),s["default"].prototype.$eventBus=new s["default"],new s["default"]({router:tt,render:function(t){return t(ft)},store:st}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"8b83":function(t,e,a){"use strict";a("0fba")},9400:function(t,e,a){},"95b5":function(t,e,a){"use strict";a("2246")},"9bbf":function(t,e,a){},"9c0c":function(t,e,a){},af35:function(t,e,a){}});
//# sourceMappingURL=app.460c8aa9.js.map